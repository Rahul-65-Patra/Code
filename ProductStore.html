<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
    <style>
        #pro {
            display: flex;
            justify-content: space-around;
            margin: 10px;
            flex-wrap: wrap;
        }
        .product {
            border: 1px dotted black;
            text-align: center;
            width: 300px;
            height: 200px;
            border-radius: 4px;
            background-color: aquamarine;
            font-size: 15px;
            box-shadow:9px 6px 8px rgba(0, 0, 0, 0.2);
            margin:10px;
            gap: 10px;
        }
        button {
          display: inline-block;
            margin: 10px;
            padding:8px;
            border-radius: 5px;
            outline: none;
            border: none;
            cursor: pointer;
            background-color:gold;
            font-weight: bold;
        }
        h1{
          text-align: center;
        }
      #btn{
        display: block;
        margin: auto;
      }
      #cart{
        display: flex;
        justify-content: sp ace-around;
        margin: 10px;
        flex-wrap: wrap;
      }
      .show{
        text-decoration: none;
        justify-content: space-between;
        float: right;
        font-size: 20px;
        margin-top:-50px;
        margin-right:100px;
        background-color: gold;
        padding: 10px;
        color: black;
        border-radius: 5px;
      }
    </style>
</head>
<body>
    <h1>Products</h1>
    <button onclick="showCart()" id="btn">Show Cart (<span id="cartCount">0</span>)</button>
    
    
    <div id="cart"></div>
    <div id="pro"></div>

    <script>
        const products = [
            { name: "Product 1", price: 200, description: "Description of Product 1" },
            { name: "Product 2", price: 400, description: "Description of Product 2" },
            { name: "Product 3", price: 600, description: "Description of Product 3" },
            { name: "Product 4", price: 200, description: "Description of Product 4" },
            { name: "Product 5", price: 400, description: "Description of Product 5" },
            { name: "Product 6", price: 600, description: "Description of Product 6" },
            { name: "Product 7", price: 200, description: "Description of Product 7" },
            { name: "Product 8", price: 400, description: "Description of Product 8" },
            { name: "Product 9", price: 600, description: "Description of Product 9" },
            { name: "Product 10", price: 200, description: "Description of Product 10" },
            { name: "Product 11", price: 400, description: "Description of Product 11" },
            { name: "Product 12", price: 600, description: "Description of Product 12" },
            { name: "Product 13", price: 200, description: "Description of Product 13" },
            { name: "Product 14", price: 400, description: "Description of Product 14" },
            { name: "Product 15", price: 600, description: "Description of Product 15" },
            { name: "Product 16", price: 200, description: "Description of Product 16" },
        ];

        const cart = [];

        function setLocalStorage() {
            localStorage.setItem("products", JSON.stringify(products));
        }
        setLocalStorage();

        const storedProducts = JSON.parse(localStorage.getItem("products"));

        function display() {
            const pro = document.getElementById("pro");
            pro.innerHTML = '';

            storedProducts.forEach((product, index) => {
                const proDiv = document.createElement("div");
                proDiv.classList.add("product");

                const proName = document.createElement("h2");
                proName.textContent = product.name;
                proDiv.appendChild(proName);

                const proPrice = document.createElement("p");
                proPrice.textContent = `Price Rs: ${product.price}`;
                proDiv.appendChild(proPrice);

                const proDesc = document.createElement("button");
                proDesc.textContent = "Show description";
                proDesc.onclick = () => {
                    alert(product.description);
                };
                proDiv.appendChild(proDesc);

                const addToCart = document.createElement('button');
                addToCart.textContent = "Add to Cart";
                addToCart.addEventListener('click', () => {
                    addToCartFunction(index);
                });
                proDiv.appendChild(addToCart);

                pro.appendChild(proDiv);
            });
        }

        function addToCartFunction(index) {
            cart.push(storedProducts[index]);
            document.getElementById('cartCount').textContent = cart.length;
             storedProducts[index].name + " added to cart";      //add  to cart
        }

        
        function showCart() {
            const cartDiv = document.getElementById('cart');
            const anch=document.querySelector('.showCart')
            cartDiv.href ='';
            if (cart.length === 0) {
                cartDiv.innerHTML += '<p>No items in cart</p>';
                return;
            }

            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.classList.add('product');

                const itemName = document.createElement('h2');
                itemName.textContent = item.name;
                cartItem.appendChild(itemName);

                const itemPrice = document.createElement('p');
                itemPrice.textContent = `Price Rs: ${item.price}`;
                cartItem.appendChild(itemPrice);

                cartDiv.appendChild(cartItem);
            });
        }

        display();
    </script>
</body>
</html>
